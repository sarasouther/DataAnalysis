# Data Types and Why They Matter

Before we analyze or visualize anything, we need to understand **data types**, because the type of **data determines the probability distribution**, which **determines the statistical test**.

**Data type → Distribution → Model choice**

*Categorical variables* are non-numeric variables. 
**Examples**: Pet type (dog, cat, fish, bird), Size (small, medium, large), Car type (sedan, SUV), Present/Absent

*Numerical variables* are variables that are numbers, and occur in two forms:
*Discrete = Counts of things (no decimal points/fractions)
Data are discrete when it does not make sense to have a partial number of the variable. For instance, if counting the number of insects in a pond, it does not make sense to count a half a species.
**Examples**: Number of people in a building, number of trees in a plot, number of bugs in a pond 

*Continuous = Numerical data that can occur at any value. 
These are variables that can occur in any quantity. If you can have a fraction of this variable, it is continuous.
**Examples** = Height, Weight, Length

*Ordinal variables* (sometimes referred to as ranked) can be categorical or numerical, but the order matters.
**Examples** = Grades (A, B, C, D, E), Likert scale variables (Strongly disagree, Agree, Strongly Agree), Class rank (1, 2, 3, 4, 5)

## Linking Data Types to Distributions

In statistics, a distribution describes how likely different values are to occur. We choose a distribution, because different types of ecological data arise from different underlying processes. Statistical models require assumptions about how error behaves. Commonly, we assume that errors are symmetrically distributed around zero, with most small deviations and fewer large ones. This assumption allows us to separate systematic patterns (treatment effects) from random noise. Imagine throwing darts at a bullseye. Each throw lands slightly off center, but the pattern of misses forms a cloud. The center of the cloud estimates the true target, while the spread of the cloud represents error. Statistics analyzes the shape of that cloud.

## Residuals: observed − predicted

Once we fit a statistical model, we are no longer comparing observations to an unknown “true” value. Instead, we compare each observation to the value predicted by the model. The difference between an observed value and its predicted value is called a residual.

\text{Residual} = \text{Observed value} - \text{Predicted value}

Residuals represent the portion of variation that the model does not explain. In other words, they are our best estimate of the remaining error after accounting for the explanatory variables included in the model. If a model captures the major patterns in the data, residuals should be small and centered around zero.

## Why we care about the shape of residuals

Residuals are not just leftovers — they carry critical information about whether a model is appropriate. Statistical inference relies on assumptions about how residuals behave. If those assumptions are violated, our estimates of uncertainty, confidence intervals, and p-values may be misleading.

When we examine residuals, we are asking questions like:
	•	Are residuals centered around zero?
	•	Are positive and negative residuals roughly balanced?
	•	Does the variability of residuals change across values of the predictors?

Patterns in residuals can indicate problems such as missing predictors, nonlinear relationships, or unequal variance. Residual diagnostics are therefore a key part of responsible statistical analysis, not an optional afterthought.

## Normal vs non-normal error

Many statistical models assume that residuals follow a normal (Gaussian) distribution, meaning most residuals are small and extreme deviations are rare. This assumption often works well for continuous traits such as height, biomass, or growth rates.

However, not all data behave this way. Counts, proportions, presence–absence data, and bounded variables frequently produce non-normal error distributions. For example:
	•	Count data often follow Poisson or negative binomial distributions
	•	Proportion data are bounded between 0 and 1
	•	Binary outcomes follow binomial distributions

Using a model that assumes normal error for non-normal data can lead to biased estimates and incorrect inference.

## How different models assume different error structures

Different statistical models are designed to handle different types of error. The key distinction among models is not the mathematical form of the equation, but the assumed distribution of the residuals.

Here, is a reference table of common statistical distribution and the associated statistical test:

<div style="overflow-x: auto;">

| **Data Type**                               | **Distribution (GLM Family)**                | **Common Link Function**                  | **Example Ecological Question**                                                | **Typical Tests / Models**                                 |
|---------------------------------------------|----------------------------------------------|--------------------------------------------|--------------------------------------------------------------------------------|-------------------------------------------------------------|
| **Continuous**                               | Normal (Gaussian)                            | Identity                                   | Do burned plots have taller seedlings than unburned plots?                    | t-test, ANOVA, Linear Regression, Gaussian GLM, LMM         |
| **Continuous (positive-only, skewed)**       | Gamma                                         | Log                                        | Does fertilizer increase biomass (always > 0)?                                 | Gamma GLM, Gamma GLMM                                       |
| **Continuous (bounded 0–1)**                 | Beta (for proportions not from counts)        | Logit / log–log                            | What proportion of cover is bare soil?                                         | Beta regression, Beta GLMM                                  |
| **Counts (integers ≥ 0)**                    | Poisson                                       | Log                                        | Does precipitation influence the number of pitfall-trapped insects?            | Poisson GLM, Poisson GLMM                                   |
| **Counts with overdispersion**               | Negative Binomial                             | Log                                        | Does nutrient addition affect flower counts when variance > mean?              | Negative Binomial GLM, NB GLMM                              |
| **Counts with many zeros**                   | Zero-inflated Poisson / Zero-inflated NB      | Log                                        | Do invasive grasses produce many zero seedling counts?                         | ZIP / ZINB models, hurdle models                            |
| **Binary outcomes (0/1)**                    | Binomial (Bernoulli)                          | Logit / probit                              | Does shade increase the probability that a seedling survives?                  | Logistic regression, Binomial GLM, Binomial GLMM            |
| **Proportions from counts (successes/n)**    | Binomial                                       | Logit                                       | What proportion of seeds germinate in each treatment?                          | Binomial GLM, Logistic regression                            |
| **Categorical (unordered)**                  | Multinomial                                    | Logit                                       | Do grazing treatments differ in vegetation type frequencies?                    | Multinomial logistic regression, Chi-square                 |
| **Ordinal (ordered categories)**             | Ordinal logistic (cumulative link)             | Logit / probit / complementary log–log      | Does grazing intensity affect seedling vigor ranks?                             | Proportional odds models (CLM/CLMM)                         |
| **Time-to-event data**                       | Exponential / Weibull / Survival models        | Log (depends on model)                      | How long do seedlings survive under drought vs irrigation?                     | Survival analysis, Cox regression                           |
| **Nonlinear continuous response**            | Non-normal, unknown                            | Identity or specialized                     | Is the relationship between age and growth curved?                              | GAM, GAMM                                                   |

</div>                                    |

We will apply statistics later in later chapters, but let's check out some common statistical distributions!

## Overview of Common Statistical Distributions

### The Normal Distribution

This is the classic bell-shaped distribution! The Normal distribution arises from the **Central Limit Theorem**, which states that when many small, independent factors add together (growth, genetics, microclimate, measurement error), their sum tends to be normally distributed.

**Ecological examples:**

- Height of Asclepias seedlings
- Tree diameter (DBH)
- Leaf nitrogen content
- Continuous traits affected by many genes

Check out the distribution:
```{r}
set.seed(1)
heights <- rnorm(1000, mean = 10, sd = 2)

hist(heights, breaks = 20, col = "lightblue",
     main = "Simulated Normal Distribution",
     xlab = "Height (cm)")
```

### The Binomial Distribution: Outcomes are “success” or “failure”

The binomial distribution arises when:

	1.	There are two possible outcomes (success/failure).
	2.	Each trial has the same probability of success.
	3.	You repeat the trial n times.

Example: flipping a biased coin 10 times.

Ecological examples:

- Seed germination (germinated / not)
- Survival (alive / dead)
- Flowering (reproductive / not)
- Presence/absence at survey points

Check out the distribution:
```{r}
set.seed(1)
germination <- rbinom(1000, size = 10, prob = 0.6)

hist(germination, breaks = 10, col = "lightgreen",
     main = "Simulated Binomial Distribution",
     xlab = "Number of seeds germinated (out of 10)")
```

### The Poisson Distribution: Counts from random events

The Poisson distribution arises when:

	1.	Events happen independently
	2.	With a constant average rate
	3.	Over a fixed time or space
	4.	And events can occur 0, 1, 2, 3… times

It often appears in ecology because many biological events behave like “random arrivals.”

Ecological examples:

- Number of flowers on a plant
- Number of birds detected per point survey
- Number of insects in a pitfall trap
- Seedling recruitment counts

In a true Poisson process: mean = variance
If variance >> mean → overdispersion → use Negative Binomial, not Poisson.

Check out the distribution:
```{r}
set.seed(1)
flower_counts <- rpois(1000, lambda = 4)

hist(flower_counts, breaks = 15, col = "salmon",
     main = "Simulated Poisson Distribution",
     xlab = "Number of flowers")
```

### The Negative Binomial Distribution: Overdispersed counts

Where it comes from

When data are “count-like” but more variable than a Poisson model allows, they are overdispersed. This often happens when:

- Individuals vary in productivity (e.g., some plants are “super reproducers”)
- There is clustering (patchy distributions)
- Rates vary in space/time

Ecological examples:

- Insect counts in patchy habitat
- Flower counts with many zeros
- Seed production with strong individual differences

Check out the distribution:
```{r}
set.seed(1)
nb_counts <- rnbinom(1000, size = 2, mu = 4)

hist(nb_counts, breaks = 15, col = "tan",
     main = "Simulated Negative Binomial Distribution",
     xlab = "Count")
```

### The Uniform Distribution: All values equally likely

This distribution arises when every value in a range has equal probability.

Relatively rare but useful for:

- Simulating randomness
- Creating null models
- Generating starting conditions for stochastic models

Check out the distribution:
```{r}
set.seed(1)
uniform_vals <- runif(1000, min = 0, max = 1)

hist(uniform_vals, breaks = 20, col = "gray",
     main = "Simulated Uniform Distribution",
     xlab = "Value")
```

## Key takeaways

- Different kinds of data follow different probability distributions.
- Those distributions determine which statistical models we use.
- You don’t need to memorize distributions — you just need to recognize the data type.
- Everything in this course builds on this foundation.

## Assignment

Make a list of the response variables that you plan to measure for your project, the associated data type, and the most appropriate error distribution. 