"0","library(dagitty)"
"0","library(ggdag)"
"0","library(tidyverse)"
"0",""
"0",""
"0","# Define the DAG"
"0","ivm_dag <- dagitty("""
"0","dag {"
"0","  Treatment"
"0","  Soil_Substrate"
"0","  Cattle"
"0","  Plant_Richness"
"0","  Plant_Cover"
"0","  Plant_Height"
"0","  Ceanothus"
"0","  Woody_Debris"
"0","  Pollinator_Richness"
"0","  Pollinator_Abundance"
"0",""
"0","  Treatment -> Plant_Richness"
"0","  Treatment -> Plant_Cover"
"0","  Treatment -> Plant_Height"
"0","  Treatment -> Ceanothus"
"0","  Treatment -> Woody_Debris"
"0",""
"0","  Soil_Substrate -> Treatment"
"0","  Soil_Substrate -> Plant_Richness"
"0","  Soil_Substrate -> Plant_Cover"
"0","  Soil_Substrate -> Woody_Debris"
"0",""
"0","  Cattle -> Plant_Richness"
"0","  Cattle -> Plant_Cover"
"0","  Cattle -> Pollinator_Abundance"
"0","  Cattle -> Pollinator_Richness"
"0",""
"0","  Plant_Richness -> Pollinator_Richness"
"0","  Plant_Richness -> Pollinator_Abundance"
"0","  Plant_Cover -> Pollinator_Richness"
"0","  Plant_Cover -> Pollinator_Abundance"
"0","  Plant_Height -> Pollinator_Richness"
"0","  Plant_Height -> Pollinator_Abundance"
"0","  Ceanothus -> Pollinator_Richness"
"0","  Ceanothus -> Pollinator_Abundance"
"0","  Woody_Debris -> Pollinator_Richness"
"0","  Woody_Debris -> Pollinator_Abundance"
"0","}"
"0",""")"
"0",""
"0","node_roles <- tibble("
"0","  name = c("
"0","    ""Treatment"","
"0","    ""Soil_Substrate"","
"0","    ""Cattle"","
"0","    ""Plant_Richness"","
"0","    ""Plant_Cover"","
"0","    ""Plant_Height"","
"0","    ""Ceanothus"","
"0","    ""Woody_Debris"","
"0","    ""Pollinator_Richness"","
"0","    ""Pollinator_Abundance"""
"0","  ),"
"0","  role = c("
"0","    ""Treatment"","
"0","    ""Context"","
"0","    ""Context"","
"0","    ""Plant"","
"0","    ""Plant"","
"0","    ""Plant"","
"0","    ""Plant"","
"0","    ""Plant"","
"0","    ""Pollinator"","
"0","    ""Pollinator"""
"0","  )"
"0",")"
"0",""
"0","# Get layout and merge roles"
"0","dag_df <- tidy_dagitty(ivm_dag, layout = ""nicely"") %>%"
"0","  left_join(node_roles, by = ""name"")"
"0",""
"0","# Plot using ggplot2 with corrected edge structure"
"0","ggplot() +"
"0","  geom_segment("
"0","    data = dag_df %>% filter(!is.na(xend)),"
"0","    aes(x = x, y = y, xend = xend, yend = yend),"
"0","    arrow = arrow(length = unit(0.02, ""npc"")),"
"0","    color = ""grey40"""
"0","  ) +"
"0","  geom_point("
"0","    data = dag_df %>% filter(!is.na(x)), "
"0","    aes(x = x, y = y, color = role), "
"0","    size = 8, alpha = 0.85"
"0","  ) +"
"0","  geom_text("
"0","    data = dag_df %>% filter(!is.na(x)), "
"0","    aes(x = x, y = y, label = name), "
"0","    color = ""black"", size = 4"
"0","  ) +"
"0","  scale_color_manual(values = c("
"0","    ""Treatment"" = ""#FB7E21FF"","
"0","    ""Context"" = ""#A91601FF"","
"0","    ""Plant"" = ""#18DDC2FF"","
"0","    ""Pollinator"" = ""#00468BFF"""
"0","  )) +"
"0","  labs("
"0","    title = ""Hypothesized DAG for Pollinator Response to IVM Treatment"","
"0","    color = ""Variable Type"""
"0","  ) +"
"0","  theme_void()"
